

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>AnalyticalCone &mdash; QF Lib  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="AnalyticalConeOOS" href="qf_lib.common.utils.confidence_interval.analytical_cone_oos.AnalyticalConeOOS.html" />
    <link rel="prev" title="AnalyticalConeBase" href="qf_lib.common.utils.confidence_interval.analytical_cone_base.AnalyticalConeBase.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> QF Lib
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../analysis.html">analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../backtesting.html">backtesting</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../common.html">common</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../common.html#enums">enums</a></li>
<li class="toctree-l2"><a class="reference internal" href="../common.html#exceptions">exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../common.html#risk-parity-boxes">risk_parity_boxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../common.html#tickers">tickers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../common.html#timeseries-analysis">timeseries_analysis</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../common.html#utils">utils</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../common.html#classes">Classes</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.confidence_interval.analytical_cone_base.AnalyticalConeBase.html">AnalyticalConeBase</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">AnalyticalCone</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.confidence_interval.analytical_cone_oos.AnalyticalConeOOS.html">AnalyticalConeOOS</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.dateutils.date_format.DateFormat.html">DateFormat</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.dateutils.timer.Timer.html">Timer</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.dateutils.timer.RealTimer.html">RealTimer</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.dateutils.timer.SettableTimer.html">SettableTimer</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.factorization.data_models.data_model.DataModel.html">DataModel</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.factorization.data_models.data_model_input.DataModelInput.html">DataModelInput</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.factorization.data_models.rolling_window_estimation.RollingWindowsEstimator.html">RollingWindowsEstimator</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.factorization.data_presenters.data_presenter.DataPresenter.html">DataPresenter</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.factorization.data_presenters.rolling_data_presenter.RollingDataPresenter.html">RollingDataPresenter</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.factorization.factors_identification.elastic_net_factors_identifier.ElasticNetFactorsIdentifier.html">ElasticNetFactorsIdentifier</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.factorization.factors_identification.elastic_net_factors_identifier_simplified.ElasticNetFactorsIdentifierSimplified.html">ElasticNetFactorsIdentifierSimplified</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.factorization.factors_identification.stepwise_factor_identifier.StepwiseFactorsIdentifier.html">StepwiseFactorsIdentifier</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.factorization.manager.FactorizationManager.html">FactorizationManager</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.miscellaneous.consecutive_duplicates.Method.html">Method</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.returns.is_return_stats.InSampleReturnStats.html">InSampleReturnStats</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.volatility.drift_independent_volatility.DriftIndependentVolatility.html">DriftIndependentVolatility</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.volatility.volatility_forecast.VolatilityForecast.html">VolatilityForecast</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.volatility.volatility_manager.VolatilityManager.html">VolatilityManager</a></li>
<li class="toctree-l4"><a class="reference internal" href="qf_lib.common.utils.data_cleaner.DataCleaner.html">DataCleaner</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../common.html#functions">Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../containers.html">containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_providers.html">data_providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../document_utils.html">document_utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plotting.html">plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../indicators.html">indicators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../portfolio_construction.html">portfolio_construction</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">QF Lib</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../common.html">common</a> &raquo;</li>
        
      <li>AnalyticalCone</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="analyticalcone">
<h1>AnalyticalCone<a class="headerlink" href="#analyticalcone" title="Permalink to this headline">Â¶</a></h1>
<dl class="py class">
<dt id="qf_lib.common.utils.confidence_interval.analytical_cone.AnalyticalCone">
<em class="property">class </em><code class="sig-prename descclassname">qf_lib.common.utils.confidence_interval.analytical_cone.</code><code class="sig-name descname">AnalyticalCone</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">series</span><span class="p">:</span> <span class="n"><a class="reference internal" href="qf_lib.containers.series.qf_series.QFSeries.html#qf_lib.containers.series.qf_series.QFSeries" title="qf_lib.containers.series.qf_series.QFSeries">qf_lib.containers.series.qf_series.QFSeries</a></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/qf_lib/common/utils/confidence_interval/analytical_cone.html#AnalyticalCone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qf_lib.common.utils.confidence_interval.analytical_cone.AnalyticalCone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="qf_lib.common.utils.confidence_interval.analytical_cone_base.AnalyticalConeBase.html#qf_lib.common.utils.confidence_interval.analytical_cone_base.AnalyticalConeBase" title="qf_lib.common.utils.confidence_interval.analytical_cone_base.AnalyticalConeBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">qf_lib.common.utils.confidence_interval.analytical_cone_base.AnalyticalConeBase</span></code></a></p>
<p><strong>Methods</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#qf_lib.common.utils.confidence_interval.analytical_cone.AnalyticalCone.calculate_aggregated_cone" title="qf_lib.common.utils.confidence_interval.analytical_cone.AnalyticalCone.calculate_aggregated_cone"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_aggregated_cone</span></code></a>(â¦)</p></td>
<td><p>Evaluates many simple cones and saves the end values of every individual simple cone.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#qf_lib.common.utils.confidence_interval.analytical_cone.AnalyticalCone.calculate_simple_cone" title="qf_lib.common.utils.confidence_interval.analytical_cone.AnalyticalCone.calculate_simple_cone"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_simple_cone</span></code></a>(live_start_date,Â â¦)</p></td>
<td><p>Creates a simple cone starting from a given date using the solution to the stochastic equation:</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="qf_lib.common.utils.confidence_interval.analytical_cone.AnalyticalCone.calculate_aggregated_cone">
<code class="sig-name descname">calculate_aggregated_cone</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nr_of_days_to_evaluate</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">is_end_date</span><span class="p">:</span> <span class="n">datetime.datetime</span></em>, <em class="sig-param"><span class="n">number_of_std</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="qf_lib.containers.dataframe.qf_dataframe.QFDataFrame.html#qf_lib.containers.dataframe.qf_dataframe.QFDataFrame" title="qf_lib.containers.dataframe.qf_dataframe.QFDataFrame">qf_lib.containers.dataframe.qf_dataframe.QFDataFrame</a><a class="reference internal" href="../_modules/qf_lib/common/utils/confidence_interval/analytical_cone.html#AnalyticalCone.calculate_aggregated_cone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qf_lib.common.utils.confidence_interval.analytical_cone.AnalyticalCone.calculate_aggregated_cone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Evaluates many simple cones and saves the end values of every individual simple cone.
While using a simple cone (e.g. LineChart with Cone decorator) the results of the evaluation may be very
different depending on the starting point. To be immune to this, calculate_aggregated_cone plots
only the ends of simple cones which start  at 1 period, 2 periods, â¦, n periods before the end of the series.
The period length depends  on the frequency of the data provided for the chart. If it has daily frequency,
then the length of one period will be 1 day.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nr_of_days_to_evaluate</strong> â max number of days in the past, from when all the cones are evaluated</p></li>
<li><p><strong>is_end_date</strong> â the end od in-sample date. Makes sure that in-sample doesnât move with the cone.</p></li>
<li><p><strong>number_of_std</strong> â corresponds to the randomness of the stochastic process. reflects number of standard deviations
to get expected values for. For example 1.0 means 1 standard deviation above the expected value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>contains values corresponding to Strategy, Mean and Std. Values are indexed by number of days
from which given cone was evaluated</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="qf_lib.containers.dataframe.qf_dataframe.QFDataFrame.html#qf_lib.containers.dataframe.qf_dataframe.QFDataFrame" title="qf_lib.containers.dataframe.qf_dataframe.QFDataFrame">QFDataFrame</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="qf_lib.common.utils.confidence_interval.analytical_cone.AnalyticalCone.calculate_simple_cone">
<code class="sig-name descname">calculate_simple_cone</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">live_start_date</span><span class="p">:</span> <span class="n">datetime.datetime</span></em>, <em class="sig-param"><span class="n">number_of_std</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="qf_lib.containers.series.prices_series.PricesSeries.html#qf_lib.containers.series.prices_series.PricesSeries" title="qf_lib.containers.series.prices_series.PricesSeries">qf_lib.containers.series.prices_series.PricesSeries</a><a class="reference internal" href="../_modules/qf_lib/common/utils/confidence_interval/analytical_cone.html#AnalyticalCone.calculate_simple_cone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qf_lib.common.utils.confidence_interval.analytical_cone.AnalyticalCone.calculate_simple_cone" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Creates a simple cone starting from a given date using the solution to the stochastic equation:
S(t) = S(0)*exp( (mu-0.5*sigma^2)*t + sigma*N(0,1)*sqrt(t) )</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>live_start_date</strong> (<em>datetime</em>) â datetime or string with date, corresponds to the cone start date</p></li>
<li><p><strong>number_of_std</strong> (<em>float</em>) â corresponds to the randomness of the stochastic process. reflects number of standard deviations
to get expected values for. For example 1.0 means 1 standard deviation above the expected value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>expected values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>PriceSeries</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="qf_lib.common.utils.confidence_interval.analytical_cone_oos.AnalyticalConeOOS.html" class="btn btn-neutral float-right" title="AnalyticalConeOOS" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="qf_lib.common.utils.confidence_interval.analytical_cone_base.AnalyticalConeBase.html" class="btn btn-neutral float-left" title="AnalyticalConeBase" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2021

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>